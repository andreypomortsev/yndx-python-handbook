## [Друзья друзей](../../../solutions/3.2/32_q.py)

Теория шести рукопожатий — социологическая теория, согласно которой любые два человека на Земле разделены не более, чем пятью уровнями общих знакомых (и, соответственно, шестью уровнями связей). Формальная математическая формулировка теории: диаметр графа знакомств не превышает 6. Мы не станем так сильно углубляться в дружественные связи и пока нам хватит только двух уровней. Напишите программу, которая по списку дружественных пар для каждого человека определяет список «друзей 2-го уровня».

### Формат ввода

В каждой строке записывается два имени.\
Окончанием ввода служит пустая строка.

### Формат вывода:

Выведите список всех людей и их «друзей 2-го уровня» в формате «Человек: Друг1, Друг2, ...».\
Список людей и друзей в каждой строке требуется вывести в алфавитном порядке без повторений.

### Пример 1

**Ввод**
```plaintext
Иванов Петров
Иванов Сергеев
Васильев Петров
Сергеев Яковлев
Петров Кириллов
Петров Яковлев

```

**Вывод**
```plaintext
Васильев: Иванов, Кириллов, Яковлев
Иванов: Васильев, Кириллов, Яковлев
Кириллов: Васильев, Иванов, Яковлев
Петров: Сергеев
Сергеев: Петров
Яковлев: Васильев, Иванов, Кириллов
```

### Пример 2

**Ввод**
```plaintext
Николай Фёдор
Николай Женя
Фёдор Женя
Фёдор Илья
Илья Фёдор

```

**Вывод**
```plaintext
Женя: Илья
Илья: Женя, Николай
Николай: Илья
Фёдор: 
```

## Подход к решению

### Объяснение теории графов

Граф — это структура, состоящая из узлов (вершин) и связей (рёбер). В данной задаче:
- Узлы представляют людей.
- Рёбра показывают отношения "дружбы".
- Друзья второго уровня находятся на расстоянии 2 рёбер от текущего узла.

1. **Построение графа друзей:**
   - Воспользуемся `defaultdict` из модуля `collections` для хранения списка друзей. 
   - Каждая строка ввода добавляет пару друзей, создавая двустороннюю связь между двумя именами.

2. **Обход графа для поиска друзей второго уровня:**
   - Для каждого человека возьмем его друзей из первого уровня.
   - Для каждого из этих друзей добавим их друзей в итоговый список второго уровня.
   - Исключим самого человека и его друзей первого уровня из результата.

3. **Сортировка и вывод:**
   - Выведем каждого человека и его друзей второго уровня в алфавитном порядке.

### Пример графа и шаги

#### Разберем Пример 1:

- Граф представляется как:
    ```python
    friends = {
        'Иванов': {'Петров', 'Сергеев'},
        'Петров': {'Иванов', 'Кириллов', 'Яковлев', 'Васильев'},
        'Сергеев': {'Иванов', 'Яковлев'},
        'Яковлев': {'Петров', 'Сергеев'},
        'Кириллов': {'Петров'},
        'Васильев': {'Петров'}
    }
    ```

- Для каждого человека пересекаем друзей друзей с учетом исключений.
    - **Для "Иванов":**
    - Друзья: `{'Петров', 'Сергеев'}`.
    - Друзья их друзей:
        - У "Петров": `{'Иванов', 'Кириллов', 'Яковлев', 'Васильев'}`.
        - У "Сергеев": `{'Иванов', 'Яковлев'}`.
    - Итог: `{'Кириллов', 'Яковлев', 'Васильев'}`.

- Сортируем людей и их друзей второго уровня. Вывод:
    ```plaintext
    Васильев: Иванов, Кириллов, Яковлев
    Иванов: Васильев, Кириллов, Яковлев
    Кириллов: Васильев, Иванов, Яковлев
    Петров: Сергеев
    Сергеев: Петров
    Яковлев: Васильев, Иванов, Кириллов
    ```